#ifndef _PWM_H_
#define _PWM_H_
#include <hidef.h>     
#include "derivative.h"
void PWM_init(void)
{
/* PWME:
PWME7=0,PWME6=0,PWME5=0,PWME4=0,PWME3=0,PWME2=0,PWME1=0,PWME0=0 */
PWME = 0x00;//禁止pwm 模块 /* Disable all PWM channels */
/* PWMPOL:
PPOL7=1,PPOL6=1,PPOL5=1,PPOL4=1,PPOL3=1,PPOL2=1,PPOL1=1,PPOL0=1 */
PWMPOL =0xff; //输出极性选择，PWM 先输出高电平,之后输出低电平
/* PWMCLK:
PCLK7=0,PCLK6=0,PCLK5=0,PCLK4=0,PCLK3=0,PCLK2=0,PCLK1=0,PCLK0=0 */
PWMCLK =0xFF;//计数时钟选择寄存器，clock sA,clock sB
/* PWMCAE: CAE7=0,CAE6=0,CAE5=0,CAE4=0,CAE3=0,CAE2=0,CAE1=0,CAE0=0 */
PWMCAE = 0x00;//输出左对齐
/* PWMCTL: CON67=1,CON45=1,CON23=1,CON01=1,PSWAI=0,PFRZ=0 */
PWMCTL =0x80;//级联控制  10000000
/* PWMSCLA: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=1 */
PWMSCLA = 5;//clock A 10 分频
/* PWMSCLB: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=1 */
PWMSCLB = 5; //clock B 10 分频
/* PWMPRCLK: PCKB2=0,PCKB1=1,PCKB0=1,PCKA2=0,PCKA1=1,PCKA0=1 */
PWMPRCLK = 0x33;//预分频时钟选择寄存器，总线时钟8 分频10MHz
/* PWMDTY7: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY67 = 10000;//占空比寄存器  10010110
/* PWMPER7: BIT7=0,BIT6=1,BIT5=1,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=0 */
PWMPER67 = 20000;//通道周期寄存器，计数值100    01100100
/* PWMDTY6: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
//PWMDTY6 = 50;//占空比寄存器
/* PWMPER6: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=0,BIT1=0,BIT0=0 */
//PWMPER6 = 100;
/* PWMDTY5: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY5 = 70;//占空比寄存器
/* PWMPER5: BIT7=0,BIT6=1,BIT5=1,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=0 */
PWMPER5 = 100;
/* PWMDTY4: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY4 = 40;//占空比寄存器
/* PWMPER4: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=0,BIT1=0,BIT0=0 */
PWMPER4 = 100;
/* PWMDTY3: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY3 = 30;//占空比寄存器
/* PWMPER3: BIT7=0,BIT6=1,BIT5=1,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=0 */
PWMPER3 = 100;
/* PWMDTY2: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY2 = 50;//占空比寄存器
/* PWMPER2: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=0,BIT1=0,BIT0=0 */
PWMPER2 = 255;
/* PWMDTY1: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY1 = 150;//占空比寄存器
/* PWMPER1: BIT7=0,BIT6=1,BIT5=1,BIT4=0,BIT3=0,BIT2=1,BIT1=0,BIT0=0 */
PWMPER1 = 255;
/* PWMDTY0: BIT7=0,BIT6=0,BIT5=1,BIT4=1,BIT3=0,BIT2=0,BIT1=1,BIT0=0 */
PWMDTY0 = 10;
/* PWMPER0: BIT7=0,BIT6=0,BIT5=0,BIT4=0,BIT3=0,BIT2=0,BIT1=0,BIT0=0 */
PWMPER0 = 255;

/* PWMSDN:
PWMIF=1,PWMIE=0,PWMRSTRT=0,PWMLVL=0,PWM7IN=0,PWM7INL=0,PWM7ENA=0
*/
//PWMSDN = 128;//
/* PWME:
PWME7=1,PWME6=1,PWME5=1,PWME4=1,PWME3=1,PWME2=1,PWME1=1,PWME0=1 */
PWME =0xff; //使能pwm 模块 /* Enable only configured PWM channels */
}
#endif